@using Nitefox.App.Media
@using Nitefox.App.States

@inject MediaPlayerState MediaPlayerState

<audio @onplay="@OnMediaPlay" autoplay src="@MediaPlayerState.StreamUrl"></audio>

@code
{
    protected override void OnInitialized()
    {
        MediaPlayerState.PropertyChanged += (_, _) => StateHasChanged();
    }

    private void OnMediaPlay()
    {
        MediaPlayerState.Loaded = true;
    }
}
